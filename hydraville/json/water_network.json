{
"nodes": [
    {
    "name": "catchment1",
    "type": "catchment",
    "flow": "__catchment1__:inflow"
    },
    {
    "name": "catchment2",
    "type": "catchment",
    "flow": "__catchment2__:inflow"
    },
    {
    "name": "catchment3",
    "type": "catchment",
    "flow": "__catchment3__:inflow"
    },
    {
    "name": "catchment4",
    "type": "catchment",
    "flow": "__catchment4__:inflow"
    },
    {
    "name": "catchment5",
    "type": "catchment",
    "flow": "__catchment5__:inflow"
    },
    {
    "name": "river1",
    "type": "river"
    },
    {
    "name": "river2",
    "type": "river"
    },
    {
    "name": "river3",
    "type": "river"
    },
    {
    "name": "river4",
    "type": "river"
    },
    {
    "name": "river5",
    "type": "river"
    },
    { 
    "name": "reservoir1",
    "type": "storage",
    "initial_volume": 200,
    "max_volume": "__reservoir1__:capacity",
    "cost": -200
    },
    {
    "name": "reservoir2",
    "type": "storage",
    "initial_volume": 200,
    "max_volume": "__reservoir2__:capacity",
    "cost": -200
    },
    {
    "name": "spill1",
    "type": "river",
    "cost": 500
    },
    {
    "name": "spill2",
    "type": "river",
    "cost": 500
    },
    {
    "name": "hydropower_plant1_generation",
    "type": "river",
    "max_flow": "__hydropower_plant1__:control"
    },
    {
    "name": "hydropower_plant2_generation",
    "type": "river",
    "max_flow": "__hydropower_plant2__:control"
    },
    {
    "name": "irrigation1_canal1",
    "type": "link",
    "max_flow": "__canal1__:capacity"
    },
    {
    "name": "irrigation1_canal2",
    "type": "link",
    "max_flow": "__irrigation1__:control"
    },
    {
    "name": "irrigation2_canal3",
    "type": "link",
    "max_flow": "__irrigation2__:control"
    },
    {
    "name": "water_supply1_canal4",
    "type": "link",
    "max_flow": "__water_supply1__:control"
    },
    {
    "name": "irrigation1",
    "type": "Output",
    "max_flow": "__irrigation1__:demand",
    "cost": -1000
    },
    {
    "name": "return_flow_irrigation1",
    "type": "input"
    },
    {
    "name": "irrigation1_return_ratio",
    "type": "aggregatednode",
    "factors": [
                1,
                0.15
                ],
    "nodes": [
        "irrigation1",
        "return_flow_irrigation1"
              ]
    },
    {
    "name": "irrigation2",
    "type": "Output",
    "max_flow": "__irrigation2__:demand",
    "cost": -1000
    },
    {
    "name": "return_flow_irrigation2",
    "type": "input"
    },
    {
    "name": "irrigation2_return_ratio",
    "type": "aggregatednode",
    "factors": [
                1,
                0.15
                ],
    "nodes": [
        "irrigation2",
        "return_flow_irrigation2"
              ]
    },
    {
    "name": "water_supply1",
    "type": "Output",
    "max_flow": "__water_supply1__:demand",
    "cost": -1000
    },
    {
    "name": "term1",
    "type": "output"
    }
],

"edges": [
    [
    "catchment1",
    "river1"
    ],
    [
    "river1",
    "irrigation1_canal1"
    ],
    [
    "irrigation1_canal1",
    "irrigation1"
    ],
    [
    "return_flow_irrigation1",
    "river2"
    ],
    [
    "river1",
    "river2"
    ],
    [
    "catchment3",
    "river2"
    ],
    [   
    "river2",
    "reservoir2"
    ],  
    [
    "catchment2",
    "reservoir1"
    ],
    [
    "reservoir1",
    "irrigation1_canal2"
    ],
    [
    "irrigation1_canal2",
    "irrigation1"
    ],
    [
    "reservoir1",
    "spill1"
    ],
    [
    "reservoir1",
    "hydropower_plant1_generation"
    ],
    [
    "spill1",
    "river3"
    ],
    [
    "hydropower_plant1_generation",
    "river3"
    ],
    [
    "river3",
    "reservoir2"
    ],
    [
    "catchment4",
    "reservoir2"
    ],
    [
    "reservoir2",
    "water_supply1_canal4"
    ],
    [
    "water_supply1_canal4",
    "water_supply1"
    ],
    [
    "reservoir2",
    "hydropower_plant2_generation"
    ],
    [
    "hydropower_plant2_generation",
    "river4"
    ],
    [
    "reservoir2",
    "irrigation2_canal3"
    ],
    [
    "irrigation2_canal3",
    "irrigation2"
    ],
    [
    "catchment5",
    "river5"
    ],
    [
    "river5",
    "irrigation2"
    ],
    [
    "return_flow_irrigation2",
    "river4"
    ],
    [
    "river5",
    "river4"
    ],
    [
    "reservoir2",
    "spill2"
    ],
    [
    "spill2",
    "river4"
    ],
    [
    "river4",
    "term1"
    ]
],
"parameters": {
    "__catchment1__:inflow": {
      "type": "dataframe",
      "url": "../../data/catchmod_flows_by_catchment_sub200.h5",
      "scenario": "weather",
      "key": "catchment1_cntr",
      "comment": "units [hm^3/day]"
      },
    "__catchment2__:inflow": {
      "type": "dataframe",
      "url": "../../data/catchmod_flows_by_catchment_sub200.h5",
      "scenario": "weather",
      "key": "catchment2_cntr",
      "comment": "units [hm^3/day]"
      },
   "__catchment3__:inflow": {
     "type": "dataframe",
     "url": "../../data/catchmod_flows_by_catchment_sub200.h5",
     "scenario": "weather",
     "key": "catchment3_cntr",
     "comment": "units [hm^3/day]"
      },
    "__catchment4__:inflow": {
     "type": "dataframe",
     "url": "../../data/catchmod_flows_by_catchment_sub200.h5",
     "scenario": "weather",
     "key": "catchment4_cntr",
     "comment": "units [hm^3/day]"
      },
    "__catchment5__:inflow": {
     "type": "dataframe",
     "url": "../../data/catchmod_flows_by_catchment_sub200.h5",
     "scenario": "weather",
     "key": "catchment5_cntr",
     "comment": "units [hm^3/day]"
      },
    "W_Demand_Factor": {
     "type": "constantscenario",
     "scenario": "W Demands",
     "values": [1, 1.02, 1.04]
      },
    "irr1_expected_demand": {
     "type": "dataframe",
     "url": "../../data/we-demand_data_v2.0.xls",
     "index_col": "timestamp",
     "column": "Dirrigation1_demand",
     "comment": "units [hm^3/day]"
      },
    "__irrigation1__:demand": {
     "type": "aggregated",
     "agg_func": "product",
     "parameters": ["irr1_expected_demand",
                    "W_Demand_Factor"
                   ]
      },
    "irr2_expected_demand": {
     "type": "dataframe",
     "url": "../../data/we-demand_data_v2.0.xls",
     "index_col": "timestamp",
     "column": "Dirrigation2_demand",
     "comment": "units [hm^3/day]"
      },
    "__irrigation2__:demand": {
     "type": "aggregated",
     "agg_func": "product",
     "parameters": ["irr2_expected_demand",
                    "W_Demand_Factor"
                   ]
      },
    "water_supp_expected_demand": {
     "type": "dataframe",
     "url": "../../data/we-demand_data_v2.0.xls",
     "index_col": "timestamp",
     "column": "Dwater-supply1_demand",
     "comment": "units [hm^3/day]"
      },
    "__water_supply1__:demand": {
     "type": "aggregated",
     "agg_func": "product",
     "parameters": ["water_supp_expected_demand",
                    "W_Demand_Factor"
                   ]
      },
    "__reservoir1__:capacity": {
     "type": "constant",
     "value": 1500,
     "is_variable": false,
     "upper_bounds": 1500,
     "lower_bounds": 0,
     "comment": "units [hm^3]"
      },
    "__reservoir2__:capacity": {
     "type": "constant",
     "value": 0,
     "is_variable": true,
     "upper_bounds": 1500,
     "lower_bounds": 0,
     "comment": "units [hm^3]"
      },
    "__irrigation1__:control": {
     "type": "controlcurve",
     "storage_node": "reservoir1",
     "control_curve": "irrigation1_cc",
     "parameters": ["__canal2__:capacity",
                    "canal_zero"
                   ]
      },
    "irrigation1_cc": {
     "type": "constant",
     "value": 0.5,
     "upper_bounds": 1.0,
     "lower_bounds": 0.0,
     "is_variable": true
      },
    "__canal1__:capacity": {
     "type": "constant",
     "value": 1.5,
     "is_variable": false,
     "upper_bounds": 1.5,
     "lower_bounds": 0,
     "comment": "units [hm^3/day]"
      },
    "__canal2__:capacity": {
     "type": "constant",
     "value": 0.0,
     "is_variable": true,
     "upper_bounds": 5.0,
     "lower_bounds": 0,
     "comment": "units [hm^3/day]"
      },
    "__irrigation2__:control": {
     "type": "controlcurve",
     "storage_node": "reservoir2",
     "control_curve": "irrigation2_cc",
     "parameters": ["__canal3__:capacity",
                    "canal_zero"
                   ]
      },
    "irrigation2_cc": {
     "type": "constant",
     "value": 0.5,
     "upper_bounds": 1.0,
     "lower_bounds": 0.0,
     "is_variable": true
      },
    "__canal3__:capacity": {
     "type": "constant",
     "value": 9.0,
     "is_variable": false,
     "upper_bounds": 9.0,
     "lower_bounds": 0,
     "comment": "units [hm^3/day]"
      },
    "__water_supply1__:control": {
     "type": "controlcurve",
     "storage_node": "reservoir2",
     "control_curve": "water_supply1_cc",
     "parameters": ["__canal4__:capacity",
                    "canal_zero"
                   ]
      },
    "water_supply1_cc": {
     "type": "constant",
     "value": 0.5,
     "upper_bounds": 1.0,
     "lower_bounds": 0.0,
     "is_variable": true
      },
    "__canal4__:capacity": {
     "type": "constant",
     "value": 9.0,
     "is_variable": false,
     "upper_bounds": 9.0,
     "lower_bounds": 0,
     "comment": "units [hm^3/day]"
      },
    "canal_zero": {
     "type": "constant",
     "value": 0.0,
     "is_variable": false,
     "upper_bounds": 0.0,
     "lower_bounds": 0.0,
     "comment": "units [hm^3/day]"
      },
    "__hydropower_plant1__:control": {
     "type": "controlcurve",
     "storage_node": "reservoir1",
     "control_curve": "hydropower_cc1",
     "parameters": ["hydropower1_above",
                    "hydropower1_below"
                   ]
      },
    "hydropower_cc1": {
     "type": "constant",
     "value": 0.5,
     "upper_bounds": 1.0,
     "lower_bounds": 0.0,
     "is_variable": true
      },
    "hydropower1_above": {
     "type": "constant",
     "value": 30,
     "upper_bounds": 30,
     "lower_bounds": 0.0,
     "is_variable": true,
     "comment": "units [hm^3/day]"
      },
    "hydropower1_below": {
     "type": "constant",
     "value": 0.0
      },
    "__hydropower_plant2__:control": {
     "type": "controlcurve",
     "storage_node": "reservoir2",
     "control_curve": "hydropower_cc2",
     "parameters": ["hydropower2_above",
                    "hydropower2_below"
                   ]
      },
    "hydropower_cc2": {
     "type": "constant",
     "value": 0.5,
     "upper_bounds": 1.0,
     "lower_bounds": 0.0,
     "is_variable": true
      },
    "hydropower2_above": {
     "type": "constant",
     "value": 30,
     "upper_bounds": 30,
     "lower_bounds": 0.0,
     "is_variable": true,
     "comment": "units [hm^3/day]"
      },
    "hydropower2_below": {
     "type": "constant",
     "value": 0.0
      }
},
"recorders": {
    "__irrigation1__:deficit_freq": {
      "type": "deficitfrequencynodeRecorder",
      "node": "irrigation1"
      },
    "__irrigation2__:deficit_freq": {
     "type": "deficitfrequencynodeRecorder",
     "node": "irrigation2"
      },
    "__water_supply1__:deficit_freq": {
     "type": "deficitfrequencynodeRecorder",
     "node": "water_supply1"
      },
    "aggr_W_deficit_freq": {
     "type": "aggregatedrecorder",
     "recorder_agg_func": "max",
     "recorders": [
       "__irrigation1__:deficit_freq",
       "__irrigation2__:deficit_freq",
       "W_supply_deficit_freq"
     ],
    "is_objective": "minimise"
    },
    "__reservoir2__:capex": {
     "type": "MeanParameterRecorder",
     "parameter": "__reservoir2__:capacity",
     "factor": 9982,
     "comment": "annualised cost units [$/hm^3]"
      },
    "__canal2__:capex": {
     "type": "MeanParameterRecorder",
     "parameter": "__canal2__:capacity",
     "factor": 8094058,
     "comment": "annualised cost units [$/hm^3/day]"
      },
    "W_total_capex": {
     "type": "aggregated",
     "recorder_agg_func": "sum",
     "recorders": [
       "__reservoir2__:capex",
       "__canal2__:capex"
     ],
    "is_objective": null
    },
    "__hydropower1_energy_generation__:MWh": {
     "type": "TotalFlowNodeRecorder",
     "node": "hydropower1_energy_generation"
      },
    "__hydropower2_energy_generation__:MWh": {
     "type": "TotalFlowNodeRecorder",
     "node": "hydropower2_energy_generation"
      },
    "aggr_Hydropower_MWh": {
     "type": "aggregated",
     "recorder_agg_func": "sum",
     "recorders": [
       "__hydropower1_energy_generation__:MWh",
       "__hydropower2_energy_generation__:MWh"
     ],
    "is_objective": null
      }
  }
}