{
  "scenarios": [{
    "name": "W Demands",
    "size": 3,
    "ensemble_names": ["First", "Second", "Third"]
    }
  ],
"nodes": [
    {
    "name": "catchment1",
    "type": "catchment",
    "flow": "__catchment1__:inflow",
    "comment": "units [hm^3/day]"
    },
    {
    "name": "catchment2",
    "type": "catchment",
    "flow": "__catchment2__:inflow",
    "comment": "units [hm^3/day]"
    },
    {
    "name": "catchment3",
    "type": "catchment",
    "flow": "__catchment3__:inflow",
    "comment": "units [hm^3/day]"
    },
    {
    "name": "catchment4",
    "type": "catchment",
    "flow": "__catchment4__:inflow",
    "comment": "units [hm^3/day]"
    },
    {
    "name": "catchment5",
    "type": "catchment",
    "flow": "__catchment5__:inflow",
    "comment": "units [hm^3/day]"
    },
    {
    "name": "river1",
    "type": "river",
    "comment": "units [hm^3/day]"
    },
    {
    "name": "river2",
    "type": "river",
    "comment": "units [hm^3/day]"
    },
    {
    "name": "river3",
    "type": "river",
    "comment": "units [hm^3/day]"
    },
    {
    "name": "river4",
    "type": "river",
    "comment": "units [hm^3/day]"
    },
    {
    "name": "river5",
    "type": "river",
    "comment": "units [hm^3/day]"
    },
    { 
    "name": "reservoir_north",
    "type": "storage",
    "initial_volume": 200,
    "max_volume": "__reservoir_north__:capacity",
    "cost": -200,
    "comment": "units [hm^3]"
    },
    {
    "name": "reservoir_south",
    "type": "storage",
    "initial_volume": 200,
    "max_volume": "__reservoir_south__:capacity",
    "cost": -200,
    "comment": "units [hm^3]"
    },
    {
    "name": "spill_R_north",
    "type": "river",
    "cost": 500,
    "comment": "units [hm^3/day]"
    },
    {
    "name": "spill_R_south",
    "type": "river",
    "cost": 500,
    "comment": "units [hm^3]"
    },
    {
    "name": "hydropower_north_plant_flow",
    "type": "river",
    "max_flow": "__hydropower_north_plant__:control",
    "comment": "units [hm^3/day]"
    },
    {
    "name": "hydropower_south_plant_flow",
    "type": "river",
    "max_flow": "__hydropower_south_plant__:control",
    "comment": "units [hm^3/day]"
    },
    {
    "name": "irrigation_north_allocation1",
    "type": "link",
    "max_flow": "__existing_irrigation_canal_north__:capacity",
    "comment": "units [hm^3/day]"
    },
    {
    "name": "irrigation_north_allocation2",
    "type": "link",
    "max_flow": "__irrigation_north__:control",
    "comment": "units [hm^3/day]"
    },
    {
    "name": "irrigation_south_allocation",
    "type": "link",
    "max_flow": "__irrigation_south__:control",
    "comment": "units [hm^3/day]"
    },
    {
    "name": "water_supply_south_allocation",
    "type": "link",
    "max_flow": "__water_supply_south__:control",
    "comment": "units [hm^3/day]"
    },
    {
    "name": "irrigation_north",
    "type": "Output",
    "max_flow": "__irrigation_north__:demand",
    "cost": -1000,
    "comment": "units [hm^3/day]"
    },
    {
    "name": "return_flow_irrigation_north",
    "type": "input",
    "comment": "units [hm^3/day]"
    },
    {
    "name": "irrigation_north_return_ratio",
    "type": "aggregatednode",
    "factors": [1,
                0.15],
    "nodes": ["irrigation_north",
              "return_flow_irrigation_north"]
    },
    {
    "name": "irrigation_south",
    "type": "Output",
    "max_flow": "__irrigation_south__:demand",
    "cost": -1000,
    "comment": "units [hm^3/day]"
    },
    {
    "name": "return_flow_irrigation_south",
    "type": "input"
    },
    {
    "name": "irrigation_south_return_ratio",
    "type": "aggregatednode",
    "factors": [1,
                0.15],
    "nodes": ["irrigation_south",
              "return_flow_irrigation_south"]
    },
    {
    "name": "water_supply_south",
    "type": "Output",
    "max_flow": "__water_supply_south__:demand",
    "cost": -1000,
    "comment": "units [hm^3/day]"
    },
    {
    "name": "term1",
    "type": "output"
    }
],

"edges": [
    [
    "catchment1",
    "river1"
    ],
    [
    "river1",
    "irrigation_north_allocation1"
    ],
    [
    "irrigation_north_allocation1",
    "irrigation_north"
    ],
    [
    "return_flow_irrigation_north",
    "river2"
    ],
    [
    "river1",
    "river2"
    ],
    [
    "catchment3",
    "river2"
    ],
    [   
    "river2",
    "reservoir_north"
    ],  
    [
    "catchment2",
    "reservoir_north"
    ],
    [
    "reservoir_north",
    "irrigation_north_allocation2"
    ],
    [
    "irrigation_north_allocation2",
    "irrigation_north"
    ],
    [
    "reservoir_north",
    "spill_R_north"
    ],
    [
    "reservoir_north",
    "hydropower_north_plant_flow"
    ],
    [
    "spill_R_north",
    "river3"
    ],
    [
    "hydropower_north_plant_flow",
    "river3"
    ],
    [
    "river3",
    "reservoir_south"
    ],
    [
    "catchment4",
    "reservoir_south"
    ],
    [
    "reservoir_south",
    "water_supply_south_allocation"
    ],
    [
    "water_supply_south_allocation",
    "water_supply_south"
    ],
    [
    "reservoir_south",
    "hydropower_south_plant_flow"
    ],
    [
    "hydropower_south_plant_flow",
    "river4"
    ],
    [
    "reservoir_south",
    "irrigation_south_allocation"
    ],
    [
    "irrigation_south_allocation",
    "irrigation_south"
    ],
    [
    "catchment5",
    "river5"
    ],
    [
    "river5",
    "irrigation_south"
    ],
    [
    "return_flow_irrigation_south",
    "river4"
    ],
    [
    "river5",
    "river4"
    ],
    [
    "reservoir_south",
    "spill_R_south"
    ],
    [
    "spill_R_south",
    "river4"
    ],
    [
    "river4",
    "term1"
    ]
],
"parameters": {
    "__catchment1__:inflow": {
      "type": "dataframe",
      "url": "../../data/catchmod_flows_by_catchment_sub200.h5",
      "scenario": "weather",
      "key": "catchment1_cntr",
      "comment": "units [hm^3/day]"
      },
    "__catchment2__:inflow": {
      "type": "dataframe",
      "url": "../../data/catchmod_flows_by_catchment_sub200.h5",
      "scenario": "weather",
      "key": "catchment2_cntr",
      "comment": "units [hm^3/day]"
      },
   "__catchment3__:inflow": {
     "type": "dataframe",
     "url": "../../data/catchmod_flows_by_catchment_sub200.h5",
     "scenario": "weather",
     "key": "catchment3_cntr",
     "comment": "units [hm^3/day]"
      },
    "__catchment4__:inflow": {
     "type": "dataframe",
     "url": "../../data/catchmod_flows_by_catchment_sub200.h5",
     "scenario": "weather",
     "key": "catchment4_cntr",
     "comment": "units [hm^3/day]"
      },
    "__catchment5__:inflow": {
     "type": "dataframe",
     "url": "../../data/catchmod_flows_by_catchment_sub200.h5",
     "scenario": "weather",
     "key": "catchment5_cntr",
     "comment": "units [hm^3/day]"
      },
    "W_Demand_Factor": {
     "type": "constantscenario",
     "scenario": "W Demands",
     "values": [1, 1.02, 1.04]
      },
    "irrigation_north_expected_demand": {
     "type": "dataframe",
     "url": "../../data/we-demand_data_v2.0.xls",
     "index_col": "timestamp",
     "column": "irrigation_north_demand",
     "comment": "units [hm^3/day]"
      },      
    "__irrigation_north__:demand": {
     "type": "aggregated",
     "agg_func": "product",
     "parameters": ["irrigation_north_expected_demand",
                    "W_Demand_Factor"]
      },
    "irrigation_south_expected_demand": {
     "type": "dataframe",
     "url": "../../data/we-demand_data_v2.0.xls",
     "index_col": "timestamp",
     "column": "irrigation_south_demand",
     "comment": "units [hm^3/day]"
      },
    "__irrigation_south__:demand": {
     "type": "aggregated",
     "agg_func": "product",
     "parameters": ["irrigation_south_expected_demand",
                    "W_Demand_Factor"]
      },
    "water_supply_south_expected_demand": {
     "type": "dataframe",
     "url": "../../data/we-demand_data_v2.0.xls",
     "index_col": "timestamp",
     "column": "water_supply_south_demand",
     "comment": "units [hm^3/day]"
      },
    "__water_supply_south__:demand": {
     "type": "aggregated",
     "agg_func": "product",
     "parameters": ["water_supply_south_expected_demand",
                    "W_Demand_Factor"]
      },
    "__reservoir_north__:capacity": {
     "type": "constant",
     "value": 1500,
     "is_variable": false,
     "upper_bounds": 1500,
     "lower_bounds": 0,
     "comment": "units [hm^3]"
      },
    "__reservoir_south__:capacity": {
     "type": "constant",
     "value": 0,
     "is_variable": true,
     "upper_bounds": 1500,
     "lower_bounds": 0,
     "comment": "units [hm^3]"
      },
    "__irrigation_north__:control": {
     "type": "controlcurve",
     "storage_node": "reservoir_north",
     "control_curve": "irrigation_north_cc",
     "parameters": ["__new_irrigation_canal_north__:capacity",
                    "canal_zero"]
      },
    "irrigation_north_cc": {
     "type": "constant",
     "value": 0.5,
     "upper_bounds": 1.0,
     "lower_bounds": 0.0,
     "is_variable": true
      },
    "__existing_irrigation_canal_north__:capacity": {
     "type": "constant",
     "value": 1.5,
     "is_variable": false,
     "upper_bounds": 1.5,
     "lower_bounds": 0,
     "comment": "units [hm^3/day]"
      },
    "__new_irrigation_canal_north__:capacity": {
     "type": "constant",
     "value": 0.0,
     "is_variable": true,
     "upper_bounds": 5.0,
     "lower_bounds": 0,
     "comment": "units [hm^3/day]"
      },
    "__irrigation_south__:control": {
     "type": "controlcurve",
     "storage_node": "reservoir_south",
     "control_curve": "irrigation_south_cc",
     "parameters": ["__existing_irrigation_canal_south__:capacity",
                    "canal_zero"]
      },
    "irrigation_south_cc": {
     "type": "constant",
     "value": 0.5,
     "upper_bounds": 1.0,
     "lower_bounds": 0.0,
     "is_variable": true
      },
    "__existing_irrigation_canal_south__:capacity": {
     "type": "constant",
     "value": 9.0,
     "is_variable": false,
     "upper_bounds": 9.0,
     "lower_bounds": 0,
     "comment": "units [hm^3/day]"
      },
    "__water_supply_south__:control": {
     "type": "controlcurve",
     "storage_node": "reservoir_south",
     "control_curve": "water_supply_south_cc",
     "parameters": ["__existing_water_supply_canal_south__:capacity",
                    "canal_zero"]
      },
    "water_supply_south_cc": {
     "type": "constant",
     "value": 0.5,
     "upper_bounds": 1.0,
     "lower_bounds": 0.0,
     "is_variable": true
      },
    "__existing_water_supply_canal_south__:capacity": {
     "type": "constant",
     "value": 9.0,
     "is_variable": false,
     "upper_bounds": 9.0,
     "lower_bounds": 0,
     "comment": "units [hm^3/day]"
      },
    "canal_zero": {
     "type": "constant",
     "value": 0.0,
     "is_variable": false,
     "upper_bounds": 0.0,
     "lower_bounds": 0.0,
     "comment": "units [hm^3/day]"
      },
    "__hydropower_north_plant__:control": {
     "type": "controlcurve",
     "storage_node": "reservoir_north",
     "control_curve": "hydropower_north_plant_cc1",
     "parameters": ["hydropower_north_plant_above",
                    "hydropower_north_plant_below"]
      },
    "hydropower_north_plant_cc1": {
     "type": "constant",
     "value": 0.5,
     "upper_bounds": 1.0,
     "lower_bounds": 0.0,
     "is_variable": true
      },
    "hydropower_north_plant_above": {
     "type": "constant",
     "value": 30,
     "upper_bounds": 30,
     "lower_bounds": 0.0,
     "is_variable": true,
     "comment": "units [hm^3/day]"
      },
    "hydropower_north_plant_below": {
     "type": "constant",
     "value": 0.0
      },
    "__hydropower_south_plant__:control": {
     "type": "controlcurve",
     "storage_node": "reservoir_south",
     "control_curve": "hydropower_south_plant_cc1",
     "parameters": ["hydropower_south_plant_above",
                    "hydropower_south_plant_below"]
      },
    "hydropower_south_plant_cc1": {
     "type": "constant",
     "value": 0.5,
     "upper_bounds": 1.0,
     "lower_bounds": 0.0,
     "is_variable": true
      },
    "hydropower_south_plant_above": {
     "type": "constant",
     "value": 30,
     "upper_bounds": 30,
     "lower_bounds": 0.0,
     "is_variable": true,
     "comment": "units [hm^3/day]"
      },
    "hydropower_south_plant_below": {
     "type": "constant",
     "value": 0.0
      }
},
"recorders": {
<<<<<<< HEAD
    "__irrigation_north__:deficit_freq": {
=======
    "__irrigation1__:deficit_freq": {
>>>>>>> c643281ca632f1d1e2e454d2ec9f7b0ed7581896
      "type": "deficitfrequencynodeRecorder",
      "node": "irrigation_north"
      },
<<<<<<< HEAD
    "__irrigation_south__:deficit_freq": {
=======
    "__irrigation2__:deficit_freq": {
>>>>>>> c643281ca632f1d1e2e454d2ec9f7b0ed7581896
     "type": "deficitfrequencynodeRecorder",
     "node": "irrigation_south"
      },
<<<<<<< HEAD
    "__water_supply_south__:deficit_freq": {
=======
    "__water_supply1__:deficit_freq": {
>>>>>>> c643281ca632f1d1e2e454d2ec9f7b0ed7581896
     "type": "deficitfrequencynodeRecorder",
     "node": "water_supply_south"
      },
    "aggr_water_deficit_freq": {
     "type": "aggregatedrecorder",
     "recorder_agg_func": "max",
<<<<<<< HEAD
     "recorders": ["__irrigation_north__:deficit_freq",
                   "__irrigation_south__:deficit_freq",
                   "__water_supply_south__:deficit_freq"],
    "is_objective": "minimise"
    },
    "__reservoir_south__:capex": {
=======
     "recorders": [
       "__irrigation1__:deficit_freq",
       "__irrigation2__:deficit_freq",
       "__water_supply1__:deficit_freq"
     ],
    "is_objective": "minimise"
    },
    "__reservoir2__:capex": {
>>>>>>> c643281ca632f1d1e2e454d2ec9f7b0ed7581896
     "type": "MeanParameterRecorder",
     "parameter": "__reservoir_south__:capacity",
     "factor": 9982,
     "comment": "annualised cost units [$/hm^3]"
      },
<<<<<<< HEAD
    "__irrigation_north_allocation2__:new_canal_capex": {
=======
    "__canal2__:capex": {
>>>>>>> c643281ca632f1d1e2e454d2ec9f7b0ed7581896
     "type": "MeanParameterRecorder",
     "parameter": "__new_irrigation_canal_north__:capacity",
     "factor": 8094058,
     "comment": "annualised cost units [$/hm^3/day]"
      },
    "water_infrastructure_total_capex": {
     "type": "aggregated",
     "recorder_agg_func": "sum",
<<<<<<< HEAD
     "recorders": ["__reservoir_south__:capex",
                   "__irrigation_north_allocation2__:new_canal_capex"],
    "is_objective": null
    },
    "__hydropower_north_plant_flow__:turbined": {
=======
     "recorders": [
       "__reservoir2__:capex",
       "__canal2__:capex"
     ],
    "is_objective": null
    },
    "__hydropower1_energy_generation__:MWh": {
>>>>>>> c643281ca632f1d1e2e454d2ec9f7b0ed7581896
     "type": "TotalFlowNodeRecorder",
     "node": "hydropower_north_plant_flow"
      },
<<<<<<< HEAD
    "__hydropower_south_plant_flow__:turbined": {
=======
    "__hydropower2_energy_generation__:MWh": {
>>>>>>> c643281ca632f1d1e2e454d2ec9f7b0ed7581896
     "type": "TotalFlowNodeRecorder",
     "node": "hydropower_south_plant_flow"
      },
    "aggr_Hydropower_turbined_flow": {
     "type": "aggregated",
     "recorder_agg_func": "sum",
<<<<<<< HEAD
     "recorders": ["__hydropower_north_plant_flow__:turbined",
                   "__hydropower_south_plant_flow__:turbined"],
=======
     "recorders": [
       "__hydropower1_energy_generation__:MWh",
       "__hydropower2_energy_generation__:MWh"
     ],
>>>>>>> c643281ca632f1d1e2e454d2ec9f7b0ed7581896
    "is_objective": null
      }
  }
}